# File autogenerated by ./scripts/gen-certs.sh
apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: k8s-slurm-injector-webhook
  labels:
    app: k8s-slurm-injector-webhook
    kind: mutator
webhooks:
  - name: inject-sidecar-webhook.d-hayashi.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-slurm-injector
        namespace: k8s-slurm-injector
        path: /wh/mutating/injectsidecar
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVmRENDQXVTZ0F3SUJBZ0lSQU9nZzVEU1p4SFRNVHVpRTlEbHBpTm93RFFZSktvWklodmNOQVFFTEJRQXcKZ1pNeEhqQWNCZ05WQkFvVEZXMXJZMlZ5ZENCa1pYWmxiRzl3YldWdWRDQkRRVEUwTURJR0ExVUVDd3dyWkY5bwpZWGxoYzJocFFFMWhZMEp2YjJzdFVISnZMbXh2WTJGc0lDaEVZV2xyYVNCSVlYbGhjMmhwS1RFN01Ea0dBMVVFCkF3d3liV3RqWlhKMElHUmZhR0Y1WVhOb2FVQk5ZV05DYjI5ckxWQnlieTVzYjJOaGJDQW9SR0ZwYTJrZ1NHRjUKWVhOb2FTa3dIaGNOTWpFd016RTJNRFV4TmpRMVdoY05Nak13TmpFMk1EVXhOalExV2pCZk1TY3dKUVlEVlFRSwpFeDV0YTJObGNuUWdaR1YyWld4dmNHMWxiblFnWTJWeWRHbG1hV05oZEdVeE5EQXlCZ05WQkFzTUsyUmZhR0Y1CllYTm9hVUJOWVdOQ2IyOXJMVkJ5Ynk1c2IyTmhiQ0FvUkdGcGEya2dTR0Y1WVhOb2FTa3dnZ0VpTUEwR0NTcUcKU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRGNTYVNSLzlta1hMbGU2QTJLckRGYzZjZUx2SDc2cG80LwplMHBHd0twcDQyazlhMUpVcWREREJiYmFQcHJsYWJNQkxBcFREZFltVlVWdnJYdWZRSU81ai8wbC9XVnRGQ0xQClJRcnhLdk0reXpRMG45OUMwNm0rbkV2ZG1sRFBVMjd1WXN0Q1ZkZW5IOGdMbnN4N0NDZHRlamQ2ZkY0dndXSUcKSFZRREE4cUNxWXVpQUhqSnR4a24xa2V0cFMyVjFjWnJkbjJBb2pmNHZYMFk3SVBqYXB1UlQvRWczQWhMYVlZbwpIam5NZy9MOW12b043U1RJWmFiQjBFWm1iN0g4b2drMnNwZlF1SDR4Rk1tcXhzaGQ3TmFCajBVRXh2RFBzcGdRCmRoeEFuN0MwaU1pNlVuS2s2aWhWVTZoVVJJbEpabCtFREZ6a0dabnlMN1A4ZXB2bUs2MFhBZ01CQUFHamZqQjgKTUE0R0ExVWREd0VCL3dRRUF3SUZvREFUQmdOVkhTVUVEREFLQmdnckJnRUZCUWNEQVRBZkJnTlZIU01FR0RBVwpnQlNXRHJxTmllUGFIdDA0UDF4RWhXRUNKMHRKSFRBMEJnTlZIUkVFTFRBcmdpbHJPSE10YzJ4MWNtMHRhVzVxClpXTjBiM0l1YXpoekxYTnNkWEp0TFdsdWFtVmpkRzl5TG5OMll6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FZRUEKZEcwVU1VS3ZlM010Tm9OdXc1OVhtbUV1T3J5bEdHZXZSWm55WGJyQ2tTVnNHaDZYSDNsODliSk5ORVl2K3haYwpvb3dnd1JnSDBKMVdUNVQ2YSt5MVpsRkp1QnVxYjdOcUdPQ1dnM2ZnMG5MQ3hmanJMVDVmL0NNTW9xckNBSjYyCnk5ZkpxdVJUVTBmNk0rSG5xbnZyMUxUU3dBdFVOUXgyS3d5OG9zVi9yWGFvVGdTMjVkT2ZtS0tMVWF6QStoaFUKQlhrU2tJWkROM29JYmRXUHc0anNYa041ZHhkTU44QnY0c0szZENaYmdYaDVtS1dOdWlZRTl4YWg5Nks1ZDFIdApGeHRNa09TTDE2eFlvd01zTmRZd0JocnhKN1JVMWFHa1ZnUU1DZUR4YlNqV1R1L0tlV2lpMGxMZVVDZXFTYWZKCjM2OVRqVTdaWTFNS0FlT0FyR3Vwd2I0OTBBcThneW8wZDJsRXNoeTQrSS9KbThSVWY5cHprYkZSbVhtUmpUa0IKZ1hGWTZoOTJuQUtNdUhQZnRDVGhLWkxmcjYxVjNaNDdyTlZ0emQ5Q1hFVjlJd3JsVnZQbVp4OVUvOHNWcENJawpZdW9kc3RxZno5WkQxWWIzcWxmRDNNeVBXaWUxL2lSUGg2dndpWmZ2UThYNkdBY2RXdnI5cEcvZEtKYjBJb3NrCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["*"]
        apiVersions: ["*"]
        resources: ["cronjobs", "jobs", "pods"]

  - name: all-mark-webhook.slok.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-slurm-injector
        namespace: k8s-slurm-injector
        path: /wh/mutating/allmark
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVmRENDQXVTZ0F3SUJBZ0lSQU9nZzVEU1p4SFRNVHVpRTlEbHBpTm93RFFZSktvWklodmNOQVFFTEJRQXcKZ1pNeEhqQWNCZ05WQkFvVEZXMXJZMlZ5ZENCa1pYWmxiRzl3YldWdWRDQkRRVEUwTURJR0ExVUVDd3dyWkY5bwpZWGxoYzJocFFFMWhZMEp2YjJzdFVISnZMbXh2WTJGc0lDaEVZV2xyYVNCSVlYbGhjMmhwS1RFN01Ea0dBMVVFCkF3d3liV3RqWlhKMElHUmZhR0Y1WVhOb2FVQk5ZV05DYjI5ckxWQnlieTVzYjJOaGJDQW9SR0ZwYTJrZ1NHRjUKWVhOb2FTa3dIaGNOTWpFd016RTJNRFV4TmpRMVdoY05Nak13TmpFMk1EVXhOalExV2pCZk1TY3dKUVlEVlFRSwpFeDV0YTJObGNuUWdaR1YyWld4dmNHMWxiblFnWTJWeWRHbG1hV05oZEdVeE5EQXlCZ05WQkFzTUsyUmZhR0Y1CllYTm9hVUJOWVdOQ2IyOXJMVkJ5Ynk1c2IyTmhiQ0FvUkdGcGEya2dTR0Y1WVhOb2FTa3dnZ0VpTUEwR0NTcUcKU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRGNTYVNSLzlta1hMbGU2QTJLckRGYzZjZUx2SDc2cG80LwplMHBHd0twcDQyazlhMUpVcWREREJiYmFQcHJsYWJNQkxBcFREZFltVlVWdnJYdWZRSU81ai8wbC9XVnRGQ0xQClJRcnhLdk0reXpRMG45OUMwNm0rbkV2ZG1sRFBVMjd1WXN0Q1ZkZW5IOGdMbnN4N0NDZHRlamQ2ZkY0dndXSUcKSFZRREE4cUNxWXVpQUhqSnR4a24xa2V0cFMyVjFjWnJkbjJBb2pmNHZYMFk3SVBqYXB1UlQvRWczQWhMYVlZbwpIam5NZy9MOW12b043U1RJWmFiQjBFWm1iN0g4b2drMnNwZlF1SDR4Rk1tcXhzaGQ3TmFCajBVRXh2RFBzcGdRCmRoeEFuN0MwaU1pNlVuS2s2aWhWVTZoVVJJbEpabCtFREZ6a0dabnlMN1A4ZXB2bUs2MFhBZ01CQUFHamZqQjgKTUE0R0ExVWREd0VCL3dRRUF3SUZvREFUQmdOVkhTVUVEREFLQmdnckJnRUZCUWNEQVRBZkJnTlZIU01FR0RBVwpnQlNXRHJxTmllUGFIdDA0UDF4RWhXRUNKMHRKSFRBMEJnTlZIUkVFTFRBcmdpbHJPSE10YzJ4MWNtMHRhVzVxClpXTjBiM0l1YXpoekxYTnNkWEp0TFdsdWFtVmpkRzl5TG5OMll6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FZRUEKZEcwVU1VS3ZlM010Tm9OdXc1OVhtbUV1T3J5bEdHZXZSWm55WGJyQ2tTVnNHaDZYSDNsODliSk5ORVl2K3haYwpvb3dnd1JnSDBKMVdUNVQ2YSt5MVpsRkp1QnVxYjdOcUdPQ1dnM2ZnMG5MQ3hmanJMVDVmL0NNTW9xckNBSjYyCnk5ZkpxdVJUVTBmNk0rSG5xbnZyMUxUU3dBdFVOUXgyS3d5OG9zVi9yWGFvVGdTMjVkT2ZtS0tMVWF6QStoaFUKQlhrU2tJWkROM29JYmRXUHc0anNYa041ZHhkTU44QnY0c0szZENaYmdYaDVtS1dOdWlZRTl4YWg5Nks1ZDFIdApGeHRNa09TTDE2eFlvd01zTmRZd0JocnhKN1JVMWFHa1ZnUU1DZUR4YlNqV1R1L0tlV2lpMGxMZVVDZXFTYWZKCjM2OVRqVTdaWTFNS0FlT0FyR3Vwd2I0OTBBcThneW8wZDJsRXNoeTQrSS9KbThSVWY5cHprYkZSbVhtUmpUa0IKZ1hGWTZoOTJuQUtNdUhQZnRDVGhLWkxmcjYxVjNaNDdyTlZ0emQ5Q1hFVjlJd3JsVnZQbVp4OVUvOHNWcENJawpZdW9kc3RxZno5WkQxWWIzcWxmRDNNeVBXaWUxL2lSUGg2dndpWmZ2UThYNkdBY2RXdnI5cEcvZEtKYjBJb3NrCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["*"]
        apiVersions: ["*"]
        resources: ["deployments", "daemonsets", "cronjobs", "jobs", "statefulsets", "pods"]

  - name: service-monitor-safer.slok.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-slurm-injector
        namespace: k8s-slurm-injector
        path: /wh/mutating/safeservicemonitor
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVmRENDQXVTZ0F3SUJBZ0lSQU9nZzVEU1p4SFRNVHVpRTlEbHBpTm93RFFZSktvWklodmNOQVFFTEJRQXcKZ1pNeEhqQWNCZ05WQkFvVEZXMXJZMlZ5ZENCa1pYWmxiRzl3YldWdWRDQkRRVEUwTURJR0ExVUVDd3dyWkY5bwpZWGxoYzJocFFFMWhZMEp2YjJzdFVISnZMbXh2WTJGc0lDaEVZV2xyYVNCSVlYbGhjMmhwS1RFN01Ea0dBMVVFCkF3d3liV3RqWlhKMElHUmZhR0Y1WVhOb2FVQk5ZV05DYjI5ckxWQnlieTVzYjJOaGJDQW9SR0ZwYTJrZ1NHRjUKWVhOb2FTa3dIaGNOTWpFd016RTJNRFV4TmpRMVdoY05Nak13TmpFMk1EVXhOalExV2pCZk1TY3dKUVlEVlFRSwpFeDV0YTJObGNuUWdaR1YyWld4dmNHMWxiblFnWTJWeWRHbG1hV05oZEdVeE5EQXlCZ05WQkFzTUsyUmZhR0Y1CllYTm9hVUJOWVdOQ2IyOXJMVkJ5Ynk1c2IyTmhiQ0FvUkdGcGEya2dTR0Y1WVhOb2FTa3dnZ0VpTUEwR0NTcUcKU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRGNTYVNSLzlta1hMbGU2QTJLckRGYzZjZUx2SDc2cG80LwplMHBHd0twcDQyazlhMUpVcWREREJiYmFQcHJsYWJNQkxBcFREZFltVlVWdnJYdWZRSU81ai8wbC9XVnRGQ0xQClJRcnhLdk0reXpRMG45OUMwNm0rbkV2ZG1sRFBVMjd1WXN0Q1ZkZW5IOGdMbnN4N0NDZHRlamQ2ZkY0dndXSUcKSFZRREE4cUNxWXVpQUhqSnR4a24xa2V0cFMyVjFjWnJkbjJBb2pmNHZYMFk3SVBqYXB1UlQvRWczQWhMYVlZbwpIam5NZy9MOW12b043U1RJWmFiQjBFWm1iN0g4b2drMnNwZlF1SDR4Rk1tcXhzaGQ3TmFCajBVRXh2RFBzcGdRCmRoeEFuN0MwaU1pNlVuS2s2aWhWVTZoVVJJbEpabCtFREZ6a0dabnlMN1A4ZXB2bUs2MFhBZ01CQUFHamZqQjgKTUE0R0ExVWREd0VCL3dRRUF3SUZvREFUQmdOVkhTVUVEREFLQmdnckJnRUZCUWNEQVRBZkJnTlZIU01FR0RBVwpnQlNXRHJxTmllUGFIdDA0UDF4RWhXRUNKMHRKSFRBMEJnTlZIUkVFTFRBcmdpbHJPSE10YzJ4MWNtMHRhVzVxClpXTjBiM0l1YXpoekxYTnNkWEp0TFdsdWFtVmpkRzl5TG5OMll6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FZRUEKZEcwVU1VS3ZlM010Tm9OdXc1OVhtbUV1T3J5bEdHZXZSWm55WGJyQ2tTVnNHaDZYSDNsODliSk5ORVl2K3haYwpvb3dnd1JnSDBKMVdUNVQ2YSt5MVpsRkp1QnVxYjdOcUdPQ1dnM2ZnMG5MQ3hmanJMVDVmL0NNTW9xckNBSjYyCnk5ZkpxdVJUVTBmNk0rSG5xbnZyMUxUU3dBdFVOUXgyS3d5OG9zVi9yWGFvVGdTMjVkT2ZtS0tMVWF6QStoaFUKQlhrU2tJWkROM29JYmRXUHc0anNYa041ZHhkTU44QnY0c0szZENaYmdYaDVtS1dOdWlZRTl4YWg5Nks1ZDFIdApGeHRNa09TTDE2eFlvd01zTmRZd0JocnhKN1JVMWFHa1ZnUU1DZUR4YlNqV1R1L0tlV2lpMGxMZVVDZXFTYWZKCjM2OVRqVTdaWTFNS0FlT0FyR3Vwd2I0OTBBcThneW8wZDJsRXNoeTQrSS9KbThSVWY5cHprYkZSbVhtUmpUa0IKZ1hGWTZoOTJuQUtNdUhQZnRDVGhLWkxmcjYxVjNaNDdyTlZ0emQ5Q1hFVjlJd3JsVnZQbVp4OVUvOHNWcENJawpZdW9kc3RxZno5WkQxWWIzcWxmRDNNeVBXaWUxL2lSUGg2dndpWmZ2UThYNkdBY2RXdnI5cEcvZEtKYjBJb3NrCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["monitoring.coreos.com"]
        apiVersions: ["v1"]
        resources: ["servicemonitors"]

---
apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: k8s-slurm-injector-webhook
  labels:
    app: k8s-slurm-injector-webhook
    kind: validator
webhooks:
  - name: ingress-validation-webhook.slok.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-slurm-injector
        namespace: k8s-slurm-injector
        path: /wh/validating/ingress
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVmRENDQXVTZ0F3SUJBZ0lSQU9nZzVEU1p4SFRNVHVpRTlEbHBpTm93RFFZSktvWklodmNOQVFFTEJRQXcKZ1pNeEhqQWNCZ05WQkFvVEZXMXJZMlZ5ZENCa1pYWmxiRzl3YldWdWRDQkRRVEUwTURJR0ExVUVDd3dyWkY5bwpZWGxoYzJocFFFMWhZMEp2YjJzdFVISnZMbXh2WTJGc0lDaEVZV2xyYVNCSVlYbGhjMmhwS1RFN01Ea0dBMVVFCkF3d3liV3RqWlhKMElHUmZhR0Y1WVhOb2FVQk5ZV05DYjI5ckxWQnlieTVzYjJOaGJDQW9SR0ZwYTJrZ1NHRjUKWVhOb2FTa3dIaGNOTWpFd016RTJNRFV4TmpRMVdoY05Nak13TmpFMk1EVXhOalExV2pCZk1TY3dKUVlEVlFRSwpFeDV0YTJObGNuUWdaR1YyWld4dmNHMWxiblFnWTJWeWRHbG1hV05oZEdVeE5EQXlCZ05WQkFzTUsyUmZhR0Y1CllYTm9hVUJOWVdOQ2IyOXJMVkJ5Ynk1c2IyTmhiQ0FvUkdGcGEya2dTR0Y1WVhOb2FTa3dnZ0VpTUEwR0NTcUcKU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRGNTYVNSLzlta1hMbGU2QTJLckRGYzZjZUx2SDc2cG80LwplMHBHd0twcDQyazlhMUpVcWREREJiYmFQcHJsYWJNQkxBcFREZFltVlVWdnJYdWZRSU81ai8wbC9XVnRGQ0xQClJRcnhLdk0reXpRMG45OUMwNm0rbkV2ZG1sRFBVMjd1WXN0Q1ZkZW5IOGdMbnN4N0NDZHRlamQ2ZkY0dndXSUcKSFZRREE4cUNxWXVpQUhqSnR4a24xa2V0cFMyVjFjWnJkbjJBb2pmNHZYMFk3SVBqYXB1UlQvRWczQWhMYVlZbwpIam5NZy9MOW12b043U1RJWmFiQjBFWm1iN0g4b2drMnNwZlF1SDR4Rk1tcXhzaGQ3TmFCajBVRXh2RFBzcGdRCmRoeEFuN0MwaU1pNlVuS2s2aWhWVTZoVVJJbEpabCtFREZ6a0dabnlMN1A4ZXB2bUs2MFhBZ01CQUFHamZqQjgKTUE0R0ExVWREd0VCL3dRRUF3SUZvREFUQmdOVkhTVUVEREFLQmdnckJnRUZCUWNEQVRBZkJnTlZIU01FR0RBVwpnQlNXRHJxTmllUGFIdDA0UDF4RWhXRUNKMHRKSFRBMEJnTlZIUkVFTFRBcmdpbHJPSE10YzJ4MWNtMHRhVzVxClpXTjBiM0l1YXpoekxYTnNkWEp0TFdsdWFtVmpkRzl5TG5OMll6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FZRUEKZEcwVU1VS3ZlM010Tm9OdXc1OVhtbUV1T3J5bEdHZXZSWm55WGJyQ2tTVnNHaDZYSDNsODliSk5ORVl2K3haYwpvb3dnd1JnSDBKMVdUNVQ2YSt5MVpsRkp1QnVxYjdOcUdPQ1dnM2ZnMG5MQ3hmanJMVDVmL0NNTW9xckNBSjYyCnk5ZkpxdVJUVTBmNk0rSG5xbnZyMUxUU3dBdFVOUXgyS3d5OG9zVi9yWGFvVGdTMjVkT2ZtS0tMVWF6QStoaFUKQlhrU2tJWkROM29JYmRXUHc0anNYa041ZHhkTU44QnY0c0szZENaYmdYaDVtS1dOdWlZRTl4YWg5Nks1ZDFIdApGeHRNa09TTDE2eFlvd01zTmRZd0JocnhKN1JVMWFHa1ZnUU1DZUR4YlNqV1R1L0tlV2lpMGxMZVVDZXFTYWZKCjM2OVRqVTdaWTFNS0FlT0FyR3Vwd2I0OTBBcThneW8wZDJsRXNoeTQrSS9KbThSVWY5cHprYkZSbVhtUmpUa0IKZ1hGWTZoOTJuQUtNdUhQZnRDVGhLWkxmcjYxVjNaNDdyTlZ0emQ5Q1hFVjlJd3JsVnZQbVp4OVUvOHNWcENJawpZdW9kc3RxZno5WkQxWWIzcWxmRDNNeVBXaWUxL2lSUGg2dndpWmZ2UThYNkdBY2RXdnI5cEcvZEtKYjBJb3NrCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["*"]
        apiVersions: ["*"]
        resources: ["ingresses"]