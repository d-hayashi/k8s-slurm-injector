# File autogenerated by ./scripts/gen-certs.sh
apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: k8s-slurm-injector-webhook
  labels:
    app: k8s-slurm-injector-webhook
    kind: mutator
webhooks:
  - name: all-mark-webhook.slok.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-slurm-injector
        namespace: k8s-slurm-injector
        path: /wh/mutating/allmark
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVlekNDQXVPZ0F3SUJBZ0lRQktpYjZ3SnRtNjZzTS80bGNZZWs0REFOQmdrcWhraUc5dzBCQVFzRkFEQ0IKa3pFZU1Cd0dBMVVFQ2hNVmJXdGpaWEowSUdSbGRtVnNiM0J0Wlc1MElFTkJNVFF3TWdZRFZRUUxEQ3RrWDJoaAplV0Z6YUdsQVRXRmpRbTl2YXkxUWNtOHViRzlqWVd3Z0tFUmhhV3RwSUVoaGVXRnphR2twTVRzd09RWURWUVFECkRESnRhMk5sY25RZ1pGOW9ZWGxoYzJocFFFMWhZMEp2YjJzdFVISnZMbXh2WTJGc0lDaEVZV2xyYVNCSVlYbGgKYzJocEtUQWVGdzB5TVRBek1URXdOVEV5TXpaYUZ3MHlNekEyTVRFd05URXlNelphTUY4eEp6QWxCZ05WQkFvVApIbTFyWTJWeWRDQmtaWFpsYkc5d2JXVnVkQ0JqWlhKMGFXWnBZMkYwWlRFME1ESUdBMVVFQ3d3clpGOW9ZWGxoCmMyaHBRRTFoWTBKdmIyc3RVSEp2TG14dlkyRnNJQ2hFWVdscmFTQklZWGxoYzJocEtUQ0NBU0l3RFFZSktvWkkKaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFPSzIycFZSZXhRSGEyeGdKNlh2bmRVTXNuWjllMlNURllRUwpMdk5JMDB0eENmYnlOSEdTRy93SmIxelRkL0FyaktGYWJQd1BPUnlBWTdKMnNWcXo1ck1UWjdMNjJFZGFrUWdECktmSlZBRXc1WW1pT3Bsb0xVVGVvcWxhaGF5SEJqYU9lQ0hBL3RCaHdjSEQwWFJBRXZwaVkrUForMHNES2F0dkMKQkZOV0o1aVRLT1pCWW83TmYwU0pEM2ZKQXFTUllleHNYUGtTOTM0TXU3bzJTNEsvVVhST2Iwbll4SDk3ZkpyNgpUL2duYXIxdmxOa3U4amhnbG5Hd3ZpQjJDRmdudEpmeFlOblQ4cWlhUHFqQm1WYWtPQUl3UVg3MThNa0RCbUMwCjdDY0pseDFNSC9UOVo5Vk5FRzIvQyt0VVJZN1l3dTRNTGxPY1EzNnhyQm81NUw1M25aTUNBd0VBQWFOK01Id3cKRGdZRFZSMFBBUUgvQkFRREFnV2dNQk1HQTFVZEpRUU1NQW9HQ0NzR0FRVUZCd01CTUI4R0ExVWRJd1FZTUJhQQpGSllPdW8ySjQ5b2UzVGcvWEVTRllRSW5TMGtkTURRR0ExVWRFUVF0TUN1Q0tXczRjeTF6YkhWeWJTMXBibXBsClkzUnZjaTVyT0hNdGMyeDFjbTB0YVc1cVpXTjBiM0l1YzNaak1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQmdRQlEKeTdDZTROTFVzN004UFB6RkxDTFBNNG9XUUFLQVVOd1g5cVI4Mk5PdllKK3dIbS9samZIUEFnRjg3TERyVy9YOAowUGN3c0JDaHlTNXJRZUM1czloMlhIc0FWcXFEYjRYOHh5MWo4dk1lT2VoSisyZ2tXbDN4MUVpb1RDYUluM2ZwCis5VDZhNnJDRXNnRnNPUnRWVllMYjlLZVhSMTRkdUFzNEtibVVtTDZUU0NFTGJXcGxuaGY2T1FlNmxGR0dRUDAKNTJaYjVLMU9Nb1d3M0lGcWFVMjEzbjZ3bi9MMzFXV010S1l2Q3FFaElFREYxYXZOQlduZjZHbFhHU3dpV2ZaSQpYL25udnVkcCtmWEpYZ3E1RHNMMDhRRkFhSW45Mk1MT2ZoYVJEczBweXhnVEhLM1BLU0lway9XcTRWVXhReU9jCnZhZGZndXhpU3BTTEtOaHFCZE10UkVReVVHVEhRT3ZsM0FidVAwYi9kN05GTzcvbGNoVGRDR3g5ckl2Q0hkd1gKd3Y4YkgrNFFjZG52d3FUSGJtZGxHamc1bkdORzdLMThrWGF4Q3FxQXNlTmxIRHl2cUZKYmtUdVc5NXFLUGFvZApKRUJwRDY3SGdmSTQwaVVaZ1RSOWdGWTFNWTRRTlVFczN1RGFFQWZ2TWs5VS9IMG85c2RCM0lDdTVVK24yMEE9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["*"]
        apiVersions: ["*"]
        resources: ["deployments", "daemonsets", "cronjobs", "jobs", "statefulsets", "pods"]

  - name: service-monitor-safer.slok.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-slurm-injector
        namespace: k8s-slurm-injector
        path: /wh/mutating/safeservicemonitor
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVlekNDQXVPZ0F3SUJBZ0lRQktpYjZ3SnRtNjZzTS80bGNZZWs0REFOQmdrcWhraUc5dzBCQVFzRkFEQ0IKa3pFZU1Cd0dBMVVFQ2hNVmJXdGpaWEowSUdSbGRtVnNiM0J0Wlc1MElFTkJNVFF3TWdZRFZRUUxEQ3RrWDJoaAplV0Z6YUdsQVRXRmpRbTl2YXkxUWNtOHViRzlqWVd3Z0tFUmhhV3RwSUVoaGVXRnphR2twTVRzd09RWURWUVFECkRESnRhMk5sY25RZ1pGOW9ZWGxoYzJocFFFMWhZMEp2YjJzdFVISnZMbXh2WTJGc0lDaEVZV2xyYVNCSVlYbGgKYzJocEtUQWVGdzB5TVRBek1URXdOVEV5TXpaYUZ3MHlNekEyTVRFd05URXlNelphTUY4eEp6QWxCZ05WQkFvVApIbTFyWTJWeWRDQmtaWFpsYkc5d2JXVnVkQ0JqWlhKMGFXWnBZMkYwWlRFME1ESUdBMVVFQ3d3clpGOW9ZWGxoCmMyaHBRRTFoWTBKdmIyc3RVSEp2TG14dlkyRnNJQ2hFWVdscmFTQklZWGxoYzJocEtUQ0NBU0l3RFFZSktvWkkKaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFPSzIycFZSZXhRSGEyeGdKNlh2bmRVTXNuWjllMlNURllRUwpMdk5JMDB0eENmYnlOSEdTRy93SmIxelRkL0FyaktGYWJQd1BPUnlBWTdKMnNWcXo1ck1UWjdMNjJFZGFrUWdECktmSlZBRXc1WW1pT3Bsb0xVVGVvcWxhaGF5SEJqYU9lQ0hBL3RCaHdjSEQwWFJBRXZwaVkrUForMHNES2F0dkMKQkZOV0o1aVRLT1pCWW83TmYwU0pEM2ZKQXFTUllleHNYUGtTOTM0TXU3bzJTNEsvVVhST2Iwbll4SDk3ZkpyNgpUL2duYXIxdmxOa3U4amhnbG5Hd3ZpQjJDRmdudEpmeFlOblQ4cWlhUHFqQm1WYWtPQUl3UVg3MThNa0RCbUMwCjdDY0pseDFNSC9UOVo5Vk5FRzIvQyt0VVJZN1l3dTRNTGxPY1EzNnhyQm81NUw1M25aTUNBd0VBQWFOK01Id3cKRGdZRFZSMFBBUUgvQkFRREFnV2dNQk1HQTFVZEpRUU1NQW9HQ0NzR0FRVUZCd01CTUI4R0ExVWRJd1FZTUJhQQpGSllPdW8ySjQ5b2UzVGcvWEVTRllRSW5TMGtkTURRR0ExVWRFUVF0TUN1Q0tXczRjeTF6YkhWeWJTMXBibXBsClkzUnZjaTVyT0hNdGMyeDFjbTB0YVc1cVpXTjBiM0l1YzNaak1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQmdRQlEKeTdDZTROTFVzN004UFB6RkxDTFBNNG9XUUFLQVVOd1g5cVI4Mk5PdllKK3dIbS9samZIUEFnRjg3TERyVy9YOAowUGN3c0JDaHlTNXJRZUM1czloMlhIc0FWcXFEYjRYOHh5MWo4dk1lT2VoSisyZ2tXbDN4MUVpb1RDYUluM2ZwCis5VDZhNnJDRXNnRnNPUnRWVllMYjlLZVhSMTRkdUFzNEtibVVtTDZUU0NFTGJXcGxuaGY2T1FlNmxGR0dRUDAKNTJaYjVLMU9Nb1d3M0lGcWFVMjEzbjZ3bi9MMzFXV010S1l2Q3FFaElFREYxYXZOQlduZjZHbFhHU3dpV2ZaSQpYL25udnVkcCtmWEpYZ3E1RHNMMDhRRkFhSW45Mk1MT2ZoYVJEczBweXhnVEhLM1BLU0lway9XcTRWVXhReU9jCnZhZGZndXhpU3BTTEtOaHFCZE10UkVReVVHVEhRT3ZsM0FidVAwYi9kN05GTzcvbGNoVGRDR3g5ckl2Q0hkd1gKd3Y4YkgrNFFjZG52d3FUSGJtZGxHamc1bkdORzdLMThrWGF4Q3FxQXNlTmxIRHl2cUZKYmtUdVc5NXFLUGFvZApKRUJwRDY3SGdmSTQwaVVaZ1RSOWdGWTFNWTRRTlVFczN1RGFFQWZ2TWs5VS9IMG85c2RCM0lDdTVVK24yMEE9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["monitoring.coreos.com"]
        apiVersions: ["v1"]
        resources: ["servicemonitors"]

---
apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: k8s-slurm-injector-webhook
  labels:
    app: k8s-slurm-injector-webhook
    kind: validator
webhooks:
  - name: ingress-validation-webhook.slok.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-slurm-injector
        namespace: k8s-slurm-injector
        path: /wh/validating/ingress
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVlekNDQXVPZ0F3SUJBZ0lRQktpYjZ3SnRtNjZzTS80bGNZZWs0REFOQmdrcWhraUc5dzBCQVFzRkFEQ0IKa3pFZU1Cd0dBMVVFQ2hNVmJXdGpaWEowSUdSbGRtVnNiM0J0Wlc1MElFTkJNVFF3TWdZRFZRUUxEQ3RrWDJoaAplV0Z6YUdsQVRXRmpRbTl2YXkxUWNtOHViRzlqWVd3Z0tFUmhhV3RwSUVoaGVXRnphR2twTVRzd09RWURWUVFECkRESnRhMk5sY25RZ1pGOW9ZWGxoYzJocFFFMWhZMEp2YjJzdFVISnZMbXh2WTJGc0lDaEVZV2xyYVNCSVlYbGgKYzJocEtUQWVGdzB5TVRBek1URXdOVEV5TXpaYUZ3MHlNekEyTVRFd05URXlNelphTUY4eEp6QWxCZ05WQkFvVApIbTFyWTJWeWRDQmtaWFpsYkc5d2JXVnVkQ0JqWlhKMGFXWnBZMkYwWlRFME1ESUdBMVVFQ3d3clpGOW9ZWGxoCmMyaHBRRTFoWTBKdmIyc3RVSEp2TG14dlkyRnNJQ2hFWVdscmFTQklZWGxoYzJocEtUQ0NBU0l3RFFZSktvWkkKaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFPSzIycFZSZXhRSGEyeGdKNlh2bmRVTXNuWjllMlNURllRUwpMdk5JMDB0eENmYnlOSEdTRy93SmIxelRkL0FyaktGYWJQd1BPUnlBWTdKMnNWcXo1ck1UWjdMNjJFZGFrUWdECktmSlZBRXc1WW1pT3Bsb0xVVGVvcWxhaGF5SEJqYU9lQ0hBL3RCaHdjSEQwWFJBRXZwaVkrUForMHNES2F0dkMKQkZOV0o1aVRLT1pCWW83TmYwU0pEM2ZKQXFTUllleHNYUGtTOTM0TXU3bzJTNEsvVVhST2Iwbll4SDk3ZkpyNgpUL2duYXIxdmxOa3U4amhnbG5Hd3ZpQjJDRmdudEpmeFlOblQ4cWlhUHFqQm1WYWtPQUl3UVg3MThNa0RCbUMwCjdDY0pseDFNSC9UOVo5Vk5FRzIvQyt0VVJZN1l3dTRNTGxPY1EzNnhyQm81NUw1M25aTUNBd0VBQWFOK01Id3cKRGdZRFZSMFBBUUgvQkFRREFnV2dNQk1HQTFVZEpRUU1NQW9HQ0NzR0FRVUZCd01CTUI4R0ExVWRJd1FZTUJhQQpGSllPdW8ySjQ5b2UzVGcvWEVTRllRSW5TMGtkTURRR0ExVWRFUVF0TUN1Q0tXczRjeTF6YkhWeWJTMXBibXBsClkzUnZjaTVyT0hNdGMyeDFjbTB0YVc1cVpXTjBiM0l1YzNaak1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQmdRQlEKeTdDZTROTFVzN004UFB6RkxDTFBNNG9XUUFLQVVOd1g5cVI4Mk5PdllKK3dIbS9samZIUEFnRjg3TERyVy9YOAowUGN3c0JDaHlTNXJRZUM1czloMlhIc0FWcXFEYjRYOHh5MWo4dk1lT2VoSisyZ2tXbDN4MUVpb1RDYUluM2ZwCis5VDZhNnJDRXNnRnNPUnRWVllMYjlLZVhSMTRkdUFzNEtibVVtTDZUU0NFTGJXcGxuaGY2T1FlNmxGR0dRUDAKNTJaYjVLMU9Nb1d3M0lGcWFVMjEzbjZ3bi9MMzFXV010S1l2Q3FFaElFREYxYXZOQlduZjZHbFhHU3dpV2ZaSQpYL25udnVkcCtmWEpYZ3E1RHNMMDhRRkFhSW45Mk1MT2ZoYVJEczBweXhnVEhLM1BLU0lway9XcTRWVXhReU9jCnZhZGZndXhpU3BTTEtOaHFCZE10UkVReVVHVEhRT3ZsM0FidVAwYi9kN05GTzcvbGNoVGRDR3g5ckl2Q0hkd1gKd3Y4YkgrNFFjZG52d3FUSGJtZGxHamc1bkdORzdLMThrWGF4Q3FxQXNlTmxIRHl2cUZKYmtUdVc5NXFLUGFvZApKRUJwRDY3SGdmSTQwaVVaZ1RSOWdGWTFNWTRRTlVFczN1RGFFQWZ2TWs5VS9IMG85c2RCM0lDdTVVK24yMEE9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["*"]
        apiVersions: ["*"]
        resources: ["ingresses"]